<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="neuecc, xin9le, okazuki">
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>ReactiveProperty - ReactiveProperty documentation</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "ReactiveProperty";
    var mkdocs_page_input_path = "features\\ReactiveProperty.md";
    var mkdocs_page_url = "/features/ReactiveProperty/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> ReactiveProperty documentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="../..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Getting started</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../getting-started/wpf/">Windows Presentation Foundation</a>
                </li>
                <li class="">
                    
    <a class="" href="../../getting-started/uwp/">Universal Windows Platform</a>
                </li>
                <li class="">
                    
    <a class="" href="../../getting-started/xf/">Xamarin.Forms</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Features</span>
    <ul class="subnav">
                <li class=" current">
                    
    <a class="current" href="./">ReactiveProperty</a>
    <ul class="subnav">
            
    <li class="toctree-l3"><a href="#use-with-xaml-platform">Use with XAML platform</a></li>
    

    <li class="toctree-l3"><a href="#how-to-create-a-reactiveproperty-instance">How to create a ReactiveProperty instance</a></li>
    
        <ul>
        
            <li><a class="toctree-l4" href="#create-from-the-constructor">Create from the constructor</a></li>
        
            <li><a class="toctree-l4" href="#create-from-iobservablet">Create from IObservable&lt;T&gt;</a></li>
        
        </ul>
    

    <li class="toctree-l3"><a href="#validation">Validation</a></li>
    
        <ul>
        
            <li><a class="toctree-l4" href="#set-custom-validation-logics">Set custom validation logics</a></li>
        
            <li><a class="toctree-l4" href="#work-with-dataannotations">Work with DataAnnotations</a></li>
        
            <li><a class="toctree-l4" href="#handling-validation-errors">Handling validation errors</a></li>
        
            <li><a class="toctree-l4" href="#dont-need-initial-validation-error">Don't need initial validation error</a></li>
        
        </ul>
    

    <li class="toctree-l3"><a href="#the-mode-of-reactiveproperty">The mode of ReactiveProperty</a></li>
    

    <li class="toctree-l3"><a href="#forcenotify">ForceNotify</a></li>
    

    <li class="toctree-l3"><a href="#readonlyreactiveproperty-class">ReadOnlyReactiveProperty class</a></li>
    

    <li class="toctree-l3"><a href="#unsubscribe">Unsubscribe</a></li>
    

    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../ReactivePropertySlim/">ReactivePropertySlim</a>
                </li>
                <li class="">
                    
    <a class="" href="../Commanding/">Commanding</a>
                </li>
                <li class="">
                    
    <a class="" href="../Collections/">Collections</a>
                </li>
                <li class="">
                    
    <a class="" href="../Work-together-with-plane-model-layer-objects/">Work together with plane model layer objects</a>
                </li>
                <li class="">
                    
    <a class="" href="../Notifiers/">Useful classes which implement IObservable</a>
                </li>
                <li class="">
                    
    <a class="" href="../Extension-methods/">Extension methods</a>
                </li>
                <li class="">
                    
    <a class="" href="../Event-transfer-to-ViewModel-from-View/">Transfer event to ViewModel from View</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../samples/">Samples</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">ReactiveProperty documentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Features &raquo;</li>
        
      
    
    <li>ReactiveProperty</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <p>ReactiveProperty is core class of this library.
This has following features.</p>
<ul>
<li>Implements the INotifyPropretyChanged interface.<ul>
<li>The value property raise the PropertyChanged event.</li>
</ul>
</li>
<li>Implements the IObservable&lt;T&gt; interface.</li>
</ul>
<p>Yes, The value property can bind to XAML control's property.
And the class call the IObserver&lt;T&gt;#OnNext method when set the value.</p>
<p>A sample code is as below.</p>
<pre><code class="cs">using Reactive.Bindings;
using System;

namespace ReactivePropertyEduApp
{
    class Program
    {
        static void Main(string[] args)
        {
            // create from defualt constructor(default value is null)
            var name = new ReactiveProperty&lt;string&gt;();
            // setup the event handler and the onNext callback.
            name.PropertyChanged += (_, e) =&gt; Console.WriteLine($&quot;PropertyChanged: {e.PropertyName}&quot;);
            name.Subscribe(x =&gt; Console.WriteLine($&quot;OnNext: {x}&quot;));

            // update the value property.
            name.Value = &quot;neuecc&quot;;
            name.Value = &quot;xin9le&quot;;
            name.Value = &quot;okazuki&quot;;
        }
    }
}
</code></pre>

<p>The output of this program is below.</p>
<pre><code>OnNext:
OnNext: neuecc
PropertyChanged: Value
OnNext: xin9le
PropertyChanged: Value
OnNext: okazuki
PropertyChanged: Value
</code></pre>

<p>What's deferent between PropertyChanged and onNext callback?
The onNext is called when subscribe. The PropertyChanged isn't called when added the event handler. And the onNext callback's argument is the property value, the PropertyChanged argument don't have the property value.</p>
<p>The PropertyChanged event was provided for data binding. In the normal case, you should use Reactive Extensions methods.</p>
<h2 id="use-with-xaml-platform">Use with XAML platform</h2>
<p>The ReactiveProperty class is designed for XAML platform which is like WPF, UWP, and Xamarin.Forms.
This class can be used a ViewModel layer. </p>
<p>In the case that don't use the ReactiveProperty, a ViewModel class wrote below. </p>
<pre><code class="cs">public class MainPageViewModel : INotifyPropertyChanged
{
    public event PropertyChangedEventHandler PropertyChanged;

    private string _name;
    public string Name
    {
        get =&gt; _name;
        set
        {
            _name = value;
            PropertyChanged?.Invoke(this, new PropertyChangedEventArgs(nameof(Name)));
        }
    }

    // Other properties are defined similar codes.
}
</code></pre>

<p>And those properties binds in the XAML code.</p>
<pre><code class="xml">&lt;!-- In the WPF --&gt;
&lt;TextBox Text=&quot;{Binding Name}&quot; /&gt;

&lt;!-- In the UWP(Runtime data binding) --&gt;
&lt;TextBox Text=&quot;{Binding Name}&quot; /&gt;

&lt;!-- In the UWP(Compile time data binding) --&gt;
&lt;TextBox Text=&quot;{x:Bind ViewModel.Name, Mode=TwoWay}&quot; /&gt;

&lt;!-- In the Xamarin.Forms --&gt;
&lt;Entry Text=&quot;{Binding Name}&quot; /&gt;
</code></pre>

<p>In the case that uses the ReactiveProperty, a ViewModel code becomes very simple!</p>
<pre><code class="cs">// The INotifyPropertyChanged interface must implement when using the WPF.
// Because, if you don't implement this, then memory leak occurred.
public class MainPageViewModel
{
    public ReactiveProperty&lt;string&gt; Name { get; } = new ReactiveProperty&lt;string&gt;();

    // Other properties are defined similar codes.
}
</code></pre>

<p>When binding in the XAML code, you must add the <code>.Value</code> in binding path.
This is an only limitation of this library.</p>
<pre><code class="xml">&lt;!-- In the WPF --&gt;
&lt;TextBox Text=&quot;{Binding Name.Value}&quot; /&gt;

&lt;!-- In the UWP(Runtime data binding) --&gt;
&lt;TextBox Text=&quot;{Binding Name.Value}&quot; /&gt;

&lt;!-- In the UWP(Compile time data binding) --&gt;
&lt;TextBox Text=&quot;{x:Bind ViewModel.Name.Value, Mode=TwoWay}&quot; /&gt;

&lt;!-- In the Xamarin.Forms --&gt;
&lt;Entry Text=&quot;{Binding Name.Value}&quot; /&gt;
</code></pre>

<blockquote>
<p>We forget the <code>.Value</code> sometimes. If you have a ReSharper license, then you can use this plugin.
<a href="https://resharper-plugins.jetbrains.com/packages/ReSharper.RpCorrector/">ReactiveProperty XAML Binding Corrector</a>
Highlight the missing of ReactiveProperty ".Value" in XAML.</p>
</blockquote>
<h2 id="how-to-create-a-reactiveproperty-instance">How to create a ReactiveProperty instance</h2>
<p>The ReactiveProperty class can create from many methods.</p>
<h3 id="create-from-the-constructor">Create from the constructor</h3>
<p>The simplest way is that using constructor.</p>
<pre><code class="cs">// create with the default value.
var name = new ReactiveProperty&lt;string&gt;();
Console.WriteLine(name.Value); // -&gt; empty output

// create with the initial value.
var name = new ReactiveProperty&lt;string&gt;(&quot;okazuki&quot;);
Console.WriteLine(name.Value); // -&gt; okazuki
</code></pre>

<h3 id="create-from-iobservablet">Create from IObservable&lt;T&gt;</h3>
<p>This can create from IObservable&lt;T&gt;.
Just calls <code>ToReactiveProperty</code> method.</p>
<pre><code class="cs">IObservable&lt;long&gt; observableInstance = Observable.Interval(TimeSpan.FromSeconds(1));

// Convert to ReactiveProperty from IObservable.
ReactiveProperty&lt;long&gt; counter = observableInstance.ToReactiveProperty();
</code></pre>

<h4 id="create-from-reactiveproperty">Create from ReactiveProperty</h4>
<p>The ReactiveProperty implements IObservable interface.
It means that ReactiveProperty can be created from ReactiveProperty.</p>
<pre><code class="cs">var name = new ReactiveProperty&lt;string&gt;(&quot;&quot;);

var formalName = name.Select(x =&gt; $&quot;Dear {x}&quot;)
    .ToReactiveProperty();
</code></pre>

<p>All IObservable instances can become ReactiveProperty. </p>
<h2 id="validation">Validation</h2>
<p>The ReactiveProperty class implements INotifyDataErrorInfo interface.</p>
<h3 id="set-custom-validation-logics">Set custom validation logics</h3>
<p>You can set custom validation logic using the SetValidateNotifyError method.</p>
<pre><code class="cs">var name = new ReactiveProperty&lt;string&gt;()
    .SetValidateNotifyError(x =&gt; string.IsNullOrWhiteSpace(x) ? &quot;Error message&quot; : null);
</code></pre>

<p>In the correct value case, validation logic should return null.
In invalid value case, logic should return an error message.</p>
<h3 id="work-with-dataannotations">Work with DataAnnotations</h3>
<p>This class can work together with the DataAnnotations.
You can set validation attribute using the SetValidateAttribute method.</p>
<pre><code class="cs">class ViewModel
{
    // Set validation attributes
    [Required(ErrorMessage = &quot;The name is required.&quot;)]
    [StringLength(100, ErrorMessage = &quot;The name length should be lower than 30.&quot;)]
    public ReactiveProperty&lt;string&gt; Name { get; }

    public ViewModel()
    {
        Name = new ReactiveProperty&lt;string&gt;()
            // Set validation attributes into the ReactiveProperty.
            .SetValidateAttribute(() =&gt; Name);
    }
}
</code></pre>

<p>WPF is integrated INotifyDataErrorInfo interface. See below.</p>
<p><img alt="WPF Validation" src="../images/wpf-validation.png" /></p>
<h3 id="handling-validation-errors">Handling validation errors</h3>
<p>Another platform can't display error messages from the INofityDataErrorInfo interface.
ReactiveProperty class have some properties for handling validation errors.</p>
<p>A first property is <code>ObserveErrorChanged</code>.
This type is <code>IObservable&lt;IEnumerable&gt;</code>. You can convert to an error message from IEnumerable. See below.</p>
<pre><code class="cs">class ViewModel
{
    // Set validation attributes
    [Required(ErrorMessage = &quot;The name is required.&quot;)]
    [StringLength(100, ErrorMessage = &quot;The name length should be lower than 30.&quot;)]
    public ReactiveProperty&lt;string&gt; Name { get; }

    public ReactiveProperty&lt;string&gt; NameErrorMessage { get; }

    public ViewModel()
    {
        Name = new ReactiveProperty&lt;string&gt;()
            // Set validation attributes into the ReactiveProperty.
            .SetValidateAttribute(() =&gt; Name);

        // Handling an error message
        NameErrorMessage = Name.ObserveErrorChanged
            .Select(x =&gt; x?.OfType&lt;string&gt;()?.FirstOrDefault())
            .ToReactiveProperty();
    }
}
</code></pre>

<p>Bind <code>NameErrorMessage.Value</code> property to a text control. An error message can be displayed.</p>
<p>In the case of UWP, see below.</p>
<pre><code class="cs">public sealed partial class MainPage : Page
{
    private ViewModel ViewModel { get; } = new ViewModel();
    public MainPage()
    {
        this.InitializeComponent();
    }
}
</code></pre>

<pre><code class="xml">&lt;Page x:Class=&quot;App1.MainPage&quot;
      xmlns=&quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation&quot;
      xmlns:x=&quot;http://schemas.microsoft.com/winfx/2006/xaml&quot;
      xmlns:local=&quot;using:App1&quot;
      xmlns:d=&quot;http://schemas.microsoft.com/expression/blend/2008&quot;
      xmlns:mc=&quot;http://schemas.openxmlformats.org/markup-compatibility/2006&quot;
      mc:Ignorable=&quot;d&quot;&gt;
    &lt;StackPanel Background=&quot;{ThemeResource ApplicationPageBackgroundThemeBrush}&quot;&gt;
        &lt;TextBlock Text=&quot;Name&quot;
                   Style=&quot;{ThemeResource CaptionTextBlockStyle}&quot; /&gt;
        &lt;TextBox Text=&quot;{x:Bind ViewModel.Name.Value, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}&quot;
                 Margin=&quot;5&quot; /&gt;
        &lt;TextBlock Text=&quot;{x:Bind ViewModel.NameErrorMessage.Value, Mode=OneWay}&quot;
                   Foreground=&quot;Red&quot;
                   Margin=&quot;5,0&quot;
                   Style=&quot;{ThemeResource BodyTextBlockStyle}&quot; /&gt;
    &lt;/StackPanel&gt;
&lt;/Page&gt;
</code></pre>

<p><img alt="A validation error message" src="../images/validation-errormessage.png" /></p>
<p>Next property is <code>ObserveHasErrors</code>. <code>ObserveHasErrors</code> property type is <code>IObservable&lt;bool&gt;</code>.
In popular input form case, combine <code>ObserveHasErrors</code> property values very useful.</p>
<p>This sample program is that create HasErros property that type is ReactiveProperty&lt;bool&gt; that combine two ReactiveProperty's ObserveHasErrors properties.</p>
<pre><code class="cs">public class ViewModel
{
    // Set validation attributes
    [Required(ErrorMessage = &quot;The name is required.&quot;)]
    [StringLength(100, ErrorMessage = &quot;The name length should be lower than 30.&quot;)]
    public ReactiveProperty&lt;string&gt; Name { get; }

    [Required(ErrorMessage = &quot;The memo is required.&quot;)]
    public ReactiveProperty&lt;string&gt; Memo { get; }

    public ReactiveProperty&lt;bool&gt; HasErrors { get; }

    public ViewModel()
    {
        Name = new ReactiveProperty&lt;string&gt;()
            .SetValidateAttribute(() =&gt; Name);

        Memo = new ReactiveProperty&lt;string&gt;()
            .SetValidateAttribute(() =&gt; Memo);

        // You can combine some ObserveHasErrors values.
        HasErrors = new[]
            {
                Name.ObserveHasErrors,
                Memo.ObserveHasErrors,
            }.CombineLatest(x =&gt; x.Any(y =&gt; y))
            .ToReactiveProperty();
    }
}
</code></pre>

<pre><code class="xml">&lt;Page x:Class=&quot;App1.MainPage&quot;
      xmlns=&quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation&quot;
      xmlns:x=&quot;http://schemas.microsoft.com/winfx/2006/xaml&quot;
      xmlns:local=&quot;using:App1&quot;
      xmlns:d=&quot;http://schemas.microsoft.com/expression/blend/2008&quot;
      xmlns:mc=&quot;http://schemas.openxmlformats.org/markup-compatibility/2006&quot;
      mc:Ignorable=&quot;d&quot;&gt;
    &lt;StackPanel Background=&quot;{ThemeResource ApplicationPageBackgroundThemeBrush}&quot;&gt;
        &lt;TextBlock Text=&quot;Name&quot;
                   Style=&quot;{ThemeResource CaptionTextBlockStyle}&quot; 
                   Margin=&quot;5&quot; /&gt;
        &lt;TextBox Text=&quot;{x:Bind ViewModel.Name.Value, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}&quot;
                 Margin=&quot;5&quot; /&gt;
        &lt;TextBlock Text=&quot;Memo&quot;
                   Style=&quot;{ThemeResource CaptionTextBlockStyle}&quot;
                   Margin=&quot;5&quot; /&gt;
        &lt;TextBox Text=&quot;{x:Bind ViewModel.Memo.Value, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}&quot;
                 Margin=&quot;5&quot; /&gt;
        &lt;TextBlock Text=&quot;HasErrors&quot;
                   Style=&quot;{ThemeResource CaptionTextBlockStyle}&quot;
                   Margin=&quot;5&quot; /&gt;
        &lt;CheckBox IsChecked=&quot;{x:Bind ViewModel.HasErrors.Value, Mode=OneWay}&quot;
                  IsEnabled=&quot;False&quot;
                  Margin=&quot;5&quot; /&gt;
    &lt;/StackPanel&gt;
&lt;/Page&gt;
</code></pre>

<p><img alt="HasErrors" src="../images/haserrors-handling.png" /></p>
<p><img alt="HasErrors2" src="../images/haserrors-handling2.png" /></p>
<p>Last property is <code>HasErrors</code>. It is a just bool property.</p>
<pre><code class="cs">public class ViewModel
{
    // Set validation attributes
    [Required(ErrorMessage = &quot;The name is required.&quot;)]
    [StringLength(100, ErrorMessage = &quot;The name length should be lower than 30.&quot;)]
    public ReactiveProperty&lt;string&gt; Name { get; }

    public ViewModel()
    {
        Name = new ReactiveProperty&lt;string&gt;()
            .SetValidateAttribute(() =&gt; Name);
    }

    public void DoSomething()
    {
        if (Name.HasErrors)
        {
            // invalid value case
        }
        else
        {
            // valid value case
        }
    }
}
</code></pre>

<h3 id="dont-need-initial-validation-error">Don't need initial validation error</h3>
<p>In default behavior, ReactiveProperty report errors when validation logic set.
If you don't need initial validation error, then you can skip the error.
Just call Skip method.</p>
<pre><code class="cs">class ViewModel
{
    // Set validation attributes
    [Required(ErrorMessage = &quot;The name is required.&quot;)]
    [StringLength(100, ErrorMessage = &quot;The name length should be lower than 30.&quot;)]
    public ReactiveProperty&lt;string&gt; Name { get; }

    public ReactiveProperty&lt;string&gt; NameErrorMessage { get; }

    public ViewModel()
    {
        Name = new ReactiveProperty&lt;string&gt;()
            .SetValidateAttribute(() =&gt; Name);

        // Handling an error message
        NameErrorMessage = Name.ObserveErrorChanged
            .Skip(1) // Skip the first error.
            .Select(x =&gt; x?.OfType&lt;string&gt;()?.FirstOrDefault())
            .ToReactiveProperty();
    }
}
</code></pre>

<h2 id="the-mode-of-reactiveproperty">The mode of ReactiveProperty</h2>
<p>ReactiveProperty class call OnNext callback when Subscribe method called.</p>
<pre><code class="cs">var x = new ReactiveProperty&lt;string&gt;(&quot;initial value&quot;);
x.Subscribe(x =&gt; Console.WriteLine(x)); // -&gt; initial value
</code></pre>

<p>You could change this behavior when ReactiveProperty instance create.
Constructor and ToReactiveProperty method have mode argument.
This can be set following values.</p>
<ul>
<li>ReactivePropertyMode.None<ul>
<li>ReactiveProperty doesn't call OnNext callback when Subscribe method call. And call OnNext callback if the same value set.</li>
</ul>
</li>
<li>ReactivePropertyMode.DistinctUntilChanged<ul>
<li>This doesn't call OnNext callback if same value set.</li>
</ul>
</li>
<li>ReactivePropertyMode.RaiseLatestValueOnSubscribe<ul>
<li>This calls OnNext callback when Subscribe method call.</li>
</ul>
</li>
</ul>
<p>Default value is <code>ReactivePropertyMode.DistinctUntilChanged | ReactivePropertyMode.RaiseLatestValueOnSubscribe</code>.</p>
<p>If you don't need this behavior, then you can set ReactivePropertyMode.None value.</p>
<pre><code class="cs">var rp = new ReactiveProperty&lt;string&gt;(&quot;initial value&quot;, mode: ReactivePropertyMode.None);
rp.Subscribe(x =&gt; Console.WriteLine(x)); // -&gt; don't output value
rp.Value = &quot;initial value&quot;; // -&gt; initial value
</code></pre>

<h2 id="forcenotify">ForceNotify</h2>
<p>If want to push the value forcibly, then can use the ForceNotify method.
This method pushes the value to subscribers, and raise a PropertyChanged event.</p>
<pre><code class="cs">var rp = new ReactiveProperty&lt;string&gt;(&quot;value&quot;);
rp.Subscribe(x =&gt; Console.WriteLine(x));
rp.PropertyChanged += (_, e) =&gt; Console.WriteLine($&quot;{e.PropertyName} changed&quot;);

rp.ForceNotify();
</code></pre>

<p>Output is as below.</p>
<pre><code>value                  # first subscribe
value                  # by the ForceNotify method
Value changed          # by the ForceNotify method
</code></pre>

<h2 id="readonlyreactiveproperty-class">ReadOnlyReactiveProperty class</h2>
<p>If you never set Value property, then you can use ReadOnlyReactiveProperty class.
This class can't set the property, and other behavior is same ReactiveProperty class.
ReadOnlyReactiveProperty class is created from ToReadOnlyReactiveProperty extension method.</p>
<p>See below.</p>
<pre><code class="cs">public class ViewModel
{
    public ReactiveProperty&lt;string&gt; Input { get; }

    // Output never set value.
    public ReadOnlyReactiveProperty&lt;string&gt; Output { get; }

    public ViewModel()
    {
        Input = new ReactiveProperty&lt;string&gt;(&quot;&quot;);
        Output = Input
            .Delay(TimeSpan.FromSeconds(1))
            .Select(x =&gt; x.ToUpper())
            .ToReadOnlyReactiveProperty(); // convert to ReadOnlyReactiveProperty
    }
}
</code></pre>

<h2 id="unsubscribe">Unsubscribe</h2>
<p>ReactiveProperty class implements IDisposable interface.
When Dispose method called, ReactiveProperty class releases all subscription.
In other instance's events subscribe, then you should call Dispose method when the end of ViewModel lifecycle.</p>
<pre><code class="cs">public class ViewModel : IDisposable
{
    public ReadOnlyReactiveProperty&lt;string&gt; Time { get; }

    public ViewModel()
    {
        Time = Observable.Interval(TimeSpan.FromSeconds(1))
            .Select(_ =&gt; DateTime.Now.ToString(&quot;yyyy/MM/dd HH:mm:ss&quot;))
            .ToReadOnlyReactiveProperty();
    }

    public void Dispose()
    {
        // Unsbscribe
        Time.Dispose();
    }
}
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../ReactivePropertySlim/" class="btn btn-neutral float-right" title="ReactivePropertySlim">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../../getting-started/xf/" class="btn btn-neutral" title="Xamarin.Forms"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../../getting-started/xf/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../ReactivePropertySlim/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/require.js"></script>
      <script src="../../search/search.js"></script>

</body>
</html>
